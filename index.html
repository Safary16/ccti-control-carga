<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCTI Control Carga</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>CCTI Control Carga</h1>
        <img src="placeholder-logo.png" alt="CCTI Logo" id="logo">
    </header>
    <div id="tabs">
        <button class="tab-button" onclick="openTab(event, 'etas')">ETAs</button>
        <button class="tab-button" onclick="openTab(event, 'clients')">Clients</button>
        <button class="tab-button" onclick="openTab(event, 'withdrawals')">Withdrawals</button>
    </div>
    <div id="etas" class="tab-content">
        <h2>ETAs</h2>
        <div id="eta-panel">
            <input type="text" id="eta-input" placeholder="Add new ETA">
            <button onclick="addETA()">Add ETA</button>
            <ul id="eta-list"></ul>
        </div>
    </div>
    <div id="clients" class="tab-content" style="display:none;">
        <h2>Clients</h2>
        <div id="client-panel">
            <input type="text" id="client-input" placeholder="Add new client">
            <button onclick="addClient()">Add Client</button>
            <ul id="client-list"></ul>
        </div>
    </div>
    <div id="withdrawals" class="tab-content" style="display:none;">
        <h2>Withdrawals</h2>
        <div id="withdrawal-panel">
            <input type="text" id="withdrawal-input" placeholder="Add new withdrawal">
            <button onclick="addWithdrawal()">Add Withdrawal</button>
            <ul id="withdrawal-list"></ul>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 CCTI Control Carga. All Rights Reserved.</p>
    </footer>
    <script>
        // Local Storage Persistence
        function saveData() {
            const etas = JSON.stringify(Array.from(document.querySelectorAll('#eta-list li')).map(li => li.textContent));
            localStorage.setItem('etas', etas);
            const clients = JSON.stringify(Array.from(document.querySelectorAll('#client-list li')).map(li => li.textContent));
            localStorage.setItem('clients', clients);
            const withdrawals = JSON.stringify(Array.from(document.querySelectorAll('#withdrawal-list li')).map(li => li.textContent));
            localStorage.setItem('withdrawals', withdrawals);
        }

        function loadData() {
            const etas = JSON.parse(localStorage.getItem('etas')) || [];
            etas.forEach(eta => addETA(eta));
            const clients = JSON.parse(localStorage.getItem('clients')) || [];
            clients.forEach(client => addClient(client));
            const withdrawals = JSON.parse(localStorage.getItem('withdrawals')) || [];
            withdrawals.forEach(withdrawal => addWithdrawal(withdrawal));
        }

        // Dynamic Interface Functions
        function openTab(evt, tabName) {
            const tabcontents = document.querySelectorAll('.tab-content');
            tabcontents.forEach(content => content.style.display = 'none');
            document.getElementById(tabName).style.display = 'block';
            saveData();
        }

        function addETA(etaName = document.getElementById('eta-input').value) {
            if (!etaName) return;
            const li = document.createElement('li');
            li.textContent = etaName;
            li.appendChild(createDeleteButton(() => li.remove()));
            document.getElementById('eta-list').appendChild(li);
            document.getElementById('eta-input').value = '';
            saveData();
        }

        function addClient(clientName = document.getElementById('client-input').value) {
            if (!clientName) return;
            const li = document.createElement('li');
            li.textContent = clientName;
            li.appendChild(createDeleteButton(() => li.remove()));
            document.getElementById('client-list').appendChild(li);
            document.getElementById('client-input').value = '';
            saveData();
        }

        function addWithdrawal(withdrawalName = document.getElementById('withdrawal-input').value) {
            if (!withdrawalName) return;
            const li = document.createElement('li');
            li.textContent = withdrawalName;
            li.appendChild(createDeleteButton(() => li.remove()));
            document.getElementById('withdrawal-list').appendChild(li);
            document.getElementById('withdrawal-input').value = '';
            saveData();
        }

        function createDeleteButton(onClick) {
            const button = document.createElement('button');
            button.textContent = 'Delete';
            button.onclick = onClick;
            return button;
        }

        window.onload = loadData;
    </script>
</body>
</html>