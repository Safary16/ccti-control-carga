<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Carga - CCTI - 02 Dic</title>
    <style>
        @media print {
            body { margin: 0; }
            @page { size: landscape; margin: 1cm; }
            .panel-edicion { display: none ! important; }
            .btn-editar { display: none !important; }
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #FF6B35;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            height: 60px;
            width: auto;
        }
        
        .logo-subtitle {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .header-info {
            text-align: right;
        }
        
        .fecha {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .titulo {
            font-size: 18px;
            color: #666;
        }
        
        h2 {
            background: linear-gradient(135deg, #64B5F6 0%, #42A5F5 100%);
            color: white;
            padding: 12px 20px;
            margin: 30px 0 15px 0;
            border-radius: 5px;
            font-size: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .btn-editar {
            background: white;
            color: #42A5F5;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        . btn-editar:hover {
            background: #f0f0f0;
            transform: scale(1.05);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        th {
            background: #f5f5f5;
            padding: 12px 8px;
            text-align: center;
            border: 1px solid #ddd;
            font-weight: bold;
            font-size: 12px;
            color: #333;
        }
        
        td {
            padding: 10px 8px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 11px;
        }
        
        .puerto-col {
            background: #f9f9f9;
            font-weight: bold;
            text-align: left;
            padding-left: 15px;
        }
        
        .total-row {
            background: #FFF9E6;
            font-weight: bold;
        }
        
        .total-col {
            background: #FFF3CD;
            font-weight: bold;
        }
        
        .disponible-total {
            background: #E8F5E9;
            font-weight: bold;
        }
        
        .disponible-total-col {
            background: #C8E6C9;
            font-weight: bold;
        }
        
        .estado-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .estado-card {
            border: 2px solid;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            position: relative;
        }
        
        .estado-card.disponible {
            background: #E8F5E9;
            border-color: #4CAF50;
        }
        
        .estado-card.sin-disponible {
            background: #FFEBEE;
            border-color: #F44336;
        }
        
        .cliente-nombre {
            font-weight: bold;
            font-size: 13px;
            margin-bottom: 8px;
        }
        
        .estado-icono {
            font-size: 32px;
            margin: 5px 0;
        }
        
        .estado-texto {
            font-size: 11px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .subventanas {
            display: flex;
            gap: 5px;
            margin-top: 12px;
            justify-content: center;
        }
        
        .subventana {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 10px;
            flex: 1;
        }
        
        .subventana-label {
            font-weight: bold;
            color: #666;
            display: block;
            margin-bottom: 2px;
        }
        
        .subventana-valor {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
        
        .subventana. clep {
            border-left: 3px solid #2196F3;
        }
        
        .subventana. ccti {
            border-left: 3px solid #FF9800;
        }
        
        . etas-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        . etas-section {
            border: 2px solid #64B5F6;
            border-radius: 8px;
            padding: 15px;
            background: #f9f9f9;
        }
        
        .etas-section h3 {
            background: #64B5F6;
            color: white;
            padding: 8px 12px;
            margin: -15px -15px 15px -15px;
            border-radius: 6px 6px 0 0;
            font-size: 14px;
            text-align: center;
        }
        
        .etas-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .eta-card {
            background: #f5f5f5;
            border-left: 4px solid #64B5F6;
            padding: 10px;
            border-radius: 4px;
        }
        
        .eta-puerto {
            font-weight: bold;
            color: #42A5F5;
            font-size: 11px;
        }
        
        .eta-cliente {
            font-weight: bold;
            font-size: 12px;
            margin: 3px 0;
        }
        
        .eta-fecha {
            color: #666;
            font-size: 11px;
        }
        
        .eta-naves {
            color: #999;
            font-size: 10px;
            margin-top: 3px;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
            text-align: center;
            color: #666;
            font-size: 10px;
        }
        
        .totales-generales {
            background: linear-gradient(135deg, #64B5F6 0%, #42A5F5 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        
        .total-item {
            text-align: center;
        }
        
        .total-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        . total-valor {
            font-size: 36px;
            font-weight: bold;
        }
        
        /* Panel de Edici√≥n */
        .panel-edicion {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.3);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        
        .panel-edicion.abierto {
            right: 0;
        }
        
        .panel-header {
            background: linear-gradient(135deg, #64B5F6 0%, #42A5F5 100%);
            color: white;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        
        . panel-header h3 {
            margin: 0;
            font-size: 18px;
        }
        
        .btn-cerrar-panel {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        . btn-cerrar-panel:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }
        
        .panel-contenido {
            padding: 20px;
        }
        
        .seccion-edicion {
            margin-bottom: 25px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid #64B5F6;
        }
        
        .seccion-titulo {
            font-weight: bold;
            color: #42A5F5;
            margin-bottom: 15px;
            font-size: 14px;
            text-transform: uppercase;
        }
        
        .campo-edicion {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 8px;
            background: white;
            border-radius: 4px;
        }
        
        .campo-label {
            font-size: 12px;
            color: #666;
            flex: 1;
        }
        
        .campo-controles {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-control {
            background: #42A5F5;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.2s;
        }
        
        .btn-control:hover {
            background: #1976D2;
            transform: scale(1.1);
        }
        
        .btn-control:active {
            transform: scale(0.95);
        }
        
        .campo-valor {
            background: #f5f5f5;
            padding: 6px 12px;
            border-radius: 4px;
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .btn-guardar {
            width: 100%;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .btn-guardar:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }
        
        .overlay.activo {
            display: block;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDkwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjI1MCIgY3k9IjI1MCIgcj0iMjAwIiBzdHJva2U9IiM0RTRFNEUiIHN0cm9rZS13aWR0aD0iNDAiIGZpbGw9Im5vbmUiLz4KPHBhdGggZD0iTTE1MCAyMDAgUSAyMDAgMTAwIDMwMCAxNTAiIHN0cm9rZT0iI0ZGOUIzNSIgc3Ryb2tlLXdpZHRoPSI1MCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBmaWxsPSJub25lIi8+CjxwYXRoIGQ9Ik0yMDAgMzUwIFEgMjUwIDMwMCAzNTAgMzAwIiBzdHJva2U9IiNGRjZCMzUiIHN0cm9rZS13aWR0aD0iNTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZmlsbD0ibm9uZSIvPgo8dGV4dCB4PSI1MjAiIHk9IjMyMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI4MCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNGRjZCMzUiPkNDVEk8L3RleHQ+Cjwvc3ZnPg==" alt="CCTI Logo" class="logo">
            <div>
                <div class="logo-subtitle">Compa√±√≠a Chilena de Transporte Intermodales</div>
            </div>
        </div>
        <div class="header-info">
            <div class="titulo">Control de Carga por Cliente</div>
            <div class="fecha">02 de Diciembre, 2025</div>
        </div>
    </div>

    <h2>
        üì¶ Por Arribar
        <button class="btn-editar" onclick="abrirPanel()">‚úèÔ∏è Editar Datos</button>
    </h2>
    <table>
        <thead>
            <tr>
                <th>Puerto</th>
                <th>WALMART</th>
                <th>GY</th>
                <th>ARCOR</th>
                <th>TOTTUS</th>
                <th>PG</th>
                <th>CASA IDEAS</th>
                <th>FALABELLA</th>
                <th class="total-col">TOTAL</th>
            </tr>
        </thead>
        <tbody id="tabla-arribar">
            <tr>
                <td class="puerto-col">STI</td>
                <td id="arribar-sti-walmart">53</td>
                <td id="arribar-sti-gy">25</td>
                <td id="arribar-sti-arcor">2</td>
                <td id="arribar-sti-tottus">11</td>
                <td id="arribar-sti-pg">19</td>
                <td id="arribar-sti-casaideas">0</td>
                <td id="arribar-sti-falabella">0</td>
                <td class="total-col" id="total-arribar-sti">110</td>
            </tr>
            <tr>
                <td class="puerto-col">TPS</td>
                <td id="arribar-tps-walmart">12</td>
                <td id="arribar-tps-gy">10</td>
                <td id="arribar-tps-arcor">0</td>
                <td id="arribar-tps-tottus">0</td>
                <td id="arribar-tps-pg">2</td>
                <td id="arribar-tps-casaideas">2</td>
                <td id="arribar-tps-falabella">0</td>
                <td class="total-col" id="total-arribar-tps">26</td>
            </tr>
            <tr class="total-row">
                <td class="puerto-col">TOTAL</td>
                <td id="total-arribar-walmart">65</td>
                <td id="total-arribar-gy">35</td>
                <td id="total-arribar-arcor">2</td>
                <td id="total-arribar-tottus">11</td>
                <td id="total-arribar-pg">21</td>
                <td id="total-arribar-casaideas">2</td>
                <td id="total-arribar-falabella">0</td>
                <td class="total-col" id="total-arribar-general">136</td>
            </tr>
        </tbody>
    </table>

    <h2>‚úÖ Disponible</h2>
    <table>
        <thead>
            <tr>
                <th>Puerto</th>
                <th>WALMART</th>
                <th>GY</th>
                <th>ARCOR</th>
                <th>TOTTUS</th>
                <th>PG</th>
                <th>CASA IDEAS</th>
                <th>FALABELLA</th>
                <th class="disponible-total-col">TOTAL</th>
            </tr>
        </thead>
        <tbody id="tabla-disponible">
            <tr>
                <td class="puerto-col">STI</td>
                <td id="disponible-sti-walmart">15</td>
                <td id="disponible-sti-gy">51</td>
                <td id="disponible-sti-arcor">0</td>
                <td id="disponible-sti-tottus">7</td>
                <td id="disponible-sti-pg">0</td>
                <td id="disponible-sti-casaideas">0</td>
                <td id="disponible-sti-falabella">2</td>
                <td class="disponible-total-col" id="total-disponible-sti">75</td>
            </tr>
            <tr>
                <td class="puerto-col">TPS</td>
                <td id="disponible-tps-walmart">0</td>
                <td id="disponible-tps-gy">0</td>
                <td id="disponible-tps-arcor">0</td>
                <td id="disponible-tps-tottus">0</td>
                <td id="disponible-tps-pg">0</td>
                <td id="disponible-tps-casaideas">0</td>
                <td id="disponible-tps-falabella">0</td>
                <td class="disponible-total-col" id="total-disponible-tps">0</td>
            </tr>
            <tr class="disponible-total">
                <td class="puerto-col">TOTAL</td>
                <td id="total-disponible-walmart">15</td>
                <td id="total-disponible-gy">51</td>
                <td id="total-disponible-arcor">0</td>
                <td id="total-disponible-tottus">7</td>
                <td id="total-disponible-pg">0</td>
                <td id="total-disponible-casaideas">0</td>
                <td id="total-disponible-falabella">2</td>
                <td class="disponible-total-col" id="total-disponible-general">75</td>
            </tr>
        </tbody>
    </table>

    <div class="totales-generales">
        <div class="total-item">
            <div class="total-label">TOTAL POR ARRIBAR</div>
            <div class="total-valor" id="display-total-arribar">136</div>
        </div>
        <div class="total-item">
            <div class="total-label">TOTAL DISPONIBLE</div>
            <div class="total-valor" id="display-total-disponible">75</div>
        </div>
    </div>

    <h2>üö¶ Estado por Cliente</h2>
    <div class="estado-grid" id="estado-grid">
        <!-- Las tarjetas se generar√°n din√°micamente con JavaScript -->
    </div>

    <h2>üì§ Retiros de Nave Considerados por CCTI</h2>
    <div style="background: #FFF3E0; border: 2px solid #FF9800; border-radius: 8px; padding: 20px; margin-bottom: 30px;">
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #FF9800;">
                <div style="font-weight: bold; font-size: 14px; color: #333; margin-bottom: 8px;">GOODYEAR</div>
                <div style="color: #666; font-size: 12px;">üì¶ 10 contenedores</div>
                <div style="color: #666; font-size: 12px; margin-top: 4px;">üö¢ Puerto: TPS</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #FF9800;">
                <div style="font-weight: bold; font-size: 14px; color: #333; margin-bottom: 8px;">WALMART</div>
                <div style="color: #666; font-size: 12px;">üì¶ 12 contenedores</div>
                <div style="color: #666; font-size: 12px; margin-top: 4px;">üö¢ Puerto: TPS</div>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #FF9800;">
                <div style="font-weight: bold; font-size: 14px; color: #333; margin-bottom: 8px;">ARCOR</div>
                <div style="color: #666; font-size: 12px;">üì¶ 2 contenedores</div>
                <div style="color: #666; font-size: 12px; margin-top: 4px;">üö¢ Puerto: STI - PCE</div>
            </div>
        </div>
    </div>

    <h2>üö¢ ETAs Programadas</h2>
    <div class="etas-grid">
        <div class="etas-section">
            <h3>üè¢ STI</h3>
            <div class="etas-column">
                <div class="eta-card">
                    <div class="eta-cliente">WALMART</div>
                    <div class="eta-fecha">üìÖ 26-nov</div>
                    <div class="eta-fecha">üìÖ 28-nov (2)</div>
                    <div class="eta-naves">3 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">GY</div>
                    <div class="eta-fecha">üìÖ 23-nov</div>
                    <div class="eta-fecha">üìÖ 28-nov (2)</div>
                    <div class="eta-fecha">üìÖ 02-dic</div>
                    <div class="eta-naves">4 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">ARCOR</div>
                    <div class="eta-fecha">üìÖ 02-dic</div>
                    <div class="eta-naves">1 nave</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">TOTTUS</div>
                    <div class="eta-fecha">üìÖ 23-nov</div>
                    <div class="eta-fecha">üìÖ 28-nov</div>
                    <div class="eta-fecha">üìÖ 02-dic</div>
                    <div class="eta-naves">3 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">PG</div>
                    <div class="eta-fecha">üìÖ 22-nov</div>
                    <div class="eta-fecha">üìÖ 28-nov</div>
                    <div class="eta-naves">2 naves</div>
                </div>
                <div class="eta-card" style="background: #FFF9E6; border-left-color: #FFB74D;">
                    <div class="eta-cliente">FALABELLA</div>
                    <div class="eta-fecha">üìÖ Fecha asignaci√≥n: 28-nov</div>
                    <div class="eta-naves">Sin ETA programada</div>
                </div>
            </div>
        </div>
        
        <div class="etas-section">
            <h3>üè¢ TPS</h3>
            <div class="etas-column">
                <div class="eta-card">
                    <div class="eta-cliente">WALMART</div>
                    <div class="eta-fecha">üìÖ 29-nov</div>
                    <div class="eta-fecha">üìÖ 03-dic</div>
                    <div class="eta-fecha">üìÖ 05-dic</div>
                    <div class="eta-naves">3 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">GY</div>
                    <div class="eta-fecha">üìÖ 29-nov (2)</div>
                    <div class="eta-fecha">üìÖ 03-dic</div>
                    <div class="eta-naves">3 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">PG</div>
                    <div class="eta-fecha">üìÖ 30-nov</div>
                    <div class="eta-fecha">üìÖ 01-dic</div>
                    <div class="eta-fecha">üìÖ 12-dic</div>
                    <div class="eta-naves">3 naves</div>
                </div>
                <div class="eta-card">
                    <div class="eta-cliente">CASA IDEAS</div>
                    <div class="eta-fecha">üìÖ 26-nov</div>
                    <div class="eta-naves">2 naves</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Panel de Edici√≥n -->
    <div class="overlay" id="overlay" onclick="cerrarPanel()"></div>
    <div class="panel-edicion" id="panel-edicion">
        <div class="panel-header">
            <h3>‚úèÔ∏è Editar Datos de Carga</h3>
            <button class="btn-cerrar-panel" onclick="cerrarPanel()">√ó</button>
        </div>
        <div class="panel-contenido" id="panel-contenido">
            <!-- El contenido se generar√° din√°micamente -->
        </div>
    </div>

    <div class="footer">
        <p><strong>CCTI - Compa√±√≠a Chilena de Transporte Intermodales S.A.</strong></p>
        <p>Expertos en Drop & Hook | www.ccti.cl</p>
        <p>Documento generado autom√°ticamente - Sistema de Control de Carga</p>
    </div>

    <script>
        // Datos de distribuci√≥n CLEP/CCTI para cada cliente
        const datos = {
            disponible: {
                WALMART: { total: 15, clep: 8, ccti: 7 },
                GY: { total: 51, clep: 30, ccti: 21 },
                ARCOR: { total: 0, clep: 0, ccti: 0 },
                TOTTUS: { total: 7, clep: 3, ccti: 4 },
                PG: { total: 0, clep: 0, ccti: 0 },
                'CASA IDEAS': { total: 0, clep: 0, ccti: 0 },
                FALABELLA: { total: 2, clep: 1, ccti: 1 }
            }
        };

        // Generar tarjetas de estado
        function generarEstadoClientes() {
            const grid = document.getElementById('estado-grid');
            grid.innerHTML = '';
            
            const clientes = ['WALMART', 'GY', 'ARCOR', 'TOTTUS', 'PG', 'CASA IDEAS', 'FALABELLA'];
            
            clientes.forEach(cliente => {
                const clienteData = datos. disponible[cliente];
                const tieneDisponible = clienteData.total > 0;
                
                const card = document.createElement('div');
                card.className = `estado-card ${tieneDisponible ? 'disponible' : 'sin-disponible'}`;
                
                card.innerHTML = `
                    <div class="cliente-nombre">${cliente}</div>
                    <div style="position: relative; display: inline-block;">
                        <div class="estado-icono">${tieneDisponible ? 'üü¢' : 'üî¥'}</div>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 14px; font-weight: bold; color: white;">${clienteData.total}</div>
                    </div>
                    <div class="estado-texto">${tieneDisponible ?  'Tiene disponible' : 'Sin disponible'}</div>
                    <div class="subventanas">
                        <div class="subventana clep">
                            <span class="subventana-label">CLEP</span>
                            <div class="subventana-valor">${clienteData.clep}</div>
                        </div>
                        <div class="subventana ccti">
                            <span class="subventana-label">CCTI</span>
                            <div class="subventana-valor">${clienteData.ccti}</div>
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Generar panel de edici√≥n
        function generarPanelEdicion() {
            const panelContenido = document.getElementById('panel-contenido');
            const clientes = ['WALMART', 'GY', 'ARCOR', 'TOTTUS', 'PG', 'CASA IDEAS', 'FALABELLA'];
            
            let html = '<div class="seccion-edicion"><div class="seccion-titulo">üì¶ Distribuci√≥n CLEP/CCTI</div>';
            
            clientes.forEach(cliente => {
                const clienteData = datos.disponible[cliente];
                const clienteId = cliente.toLowerCase().replace(/ /g, '');
                
                html += `
                    <div style="margin-bottom: 20px; padding: 12px; background: white; border-radius: 6px; border: 2px solid ${clienteData.total > 0 ? '#4CAF50' : '#F44336'};">
                        <div style="font-weight: bold; margin-bottom: 10px; color: #333;">${cliente}</div>
                        
                        <div class="campo-edicion">
                            <span class="campo-label">üîµ CLEP</span>
                            <div class="campo-controles">
                                <button class="btn-control" onclick="cambiarValor('${clienteId}', 'clep', -1)">‚àí</button>
                                <div class="campo-valor" id="valor-${clienteId}-clep">${clienteData.clep}</div>
                                <button class="btn-control" onclick="cambiarValor('${clienteId}', 'clep', 1)">+</button>
                            </div>
                        </div>
                        
                        <div class="campo-edicion">
                            <span class="campo-label">üü† CCTI</span>
                            <div class="campo-controles">
                                <button class="btn-control" onclick="cambiarValor('${clienteId}', 'ccti', -1)">‚àí</button>
                                <div class="campo-valor" id="valor-${clienteId}-ccti">${clienteData.ccti}</div>
                                <button class="btn-control" onclick="cambiarValor('${clienteId}', 'ccti', 1)">+</button>
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 8px; padding: 6px; background: #f5f5f5; border-radius: 4px;">
                            <strong>Total:</strong> <span id="total-${clienteId}">${clienteData.total}</span>
                        </div>
                    </div>
                `;
            });
            
            html += '</div><button class="btn-guardar" onclick="aplicarCambios()">üíæ Aplicar Cambios</button>';
            panelContenido.innerHTML = html;
        }

        // Cambiar valor
        function cambiarValor(clienteId, tipo, cambio) {
            const clientes = {
                'walmart': 'WALMART',
                'gy': 'GY',
                'arcor': 'ARCOR',
                'tottus': 'TOTTUS',
                'pg': 'PG',
                'casaideas': 'CASA IDEAS',
                'falabella': 'FALABELLA'
            };
            
            const clienteNombre = clientes[clienteId];
            const valorActual = datos.disponible[clienteNombre][tipo];
            const nuevoValor = Math.max(0, valorActual + cambio);
            
            datos.disponible[clienteNombre][tipo] = nuevoValor;
            datos.disponible[clienteNombre].total = datos.disponible[clienteNombre].clep + datos.disponible[clienteNombre].ccti;
            
            // Actualizar visualizaci√≥n en el panel
            document.getElementById(`valor-${clienteId}-${tipo}`).textContent = nuevoValor;
            document.getElementById(`total-${clienteId}`).textContent = datos.disponible[clienteNombre].total;
        }

        // Aplicar cambios
        function aplicarCambios() {
            generarEstadoClientes();
            cerrarPanel();
            
            // Mostrar mensaje de confirmaci√≥n
            const mensaje = document. createElement('div');
            mensaje.style.cssText = 'position: fixed; top: 20px; right: 20px; background: #4CAF50; color: white; padding: 15px 25px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 2000; font-weight: bold;';
            mensaje.textContent = '‚úì Cambios aplicados correctamente';
            document.body.appendChild(mensaje);
            
            setTimeout(() => {
                mensaje.style.transition = 'opacity 0.3s';
                mensaje.style. opacity = '0';
                setTimeout(() => mensaje.remove(), 300);
            }, 2000);
        }

        // Abrir panel
        function abrirPanel() {
            generarPanelEdicion();
            document.getElementById('panel-edicion').classList.add('abierto');
            document.getElementById('overlay').classList. add('activo');
        }

        // Cerrar panel
        function cerrarPanel() {
            document. getElementById('panel-edicion').classList.remove('abierto');
            document.getElementById('overlay').classList.remove('activo');
        }

        // Inicializar
        window.onload = function() {
            generarEstadoClientes();
        };
    </script>
</body>
</html>
